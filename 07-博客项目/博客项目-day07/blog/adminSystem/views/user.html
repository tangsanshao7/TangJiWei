{{extend './common/layout.html'}}

{{block 'link'}}

{{/block}}

{{block 'main'}}
{{include './common/header.html'}}
<!-- 主体内容 -->
<div class="content">
    <!-- 侧边栏 -->
    {{include './common/aside.html'}}
    <!-- 侧边栏 -->
    <div class="main">
        <!-- 分类标题 -->
        <div class="title">
            <h4>用户</h4>
            <span>找到1个用户</span>
            <a href="/user/add" class="btn btn-primary new">新增用户</a>
        </div>
        <!-- /分类标题 -->
        <!-- 内容列表 -->
        <table class="table table-striped table-bordered table-hover custom-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>用户名</th>
                    <th>邮箱</th>
                    <th>角色</th>
                    <th>状态</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>
                    <td>5b9a716cb2d2bf17706bcc0a</td>
                    <td>wangjian</td>
                    <td>wjb19891223@163.com</td>
                    <td>超级管理员</td>
                    <td>正常</td>
                    <td>
                        <a href="user-edit.html" class="glyphicon glyphicon-edit"></a>
                        <i class="glyphicon glyphicon-remove" data-toggle="modal" data-target=".confirm-modal"></i>
                    </td>
                </tr>
                <tr>
                    <td>5b9a716cb2d2bf17706bcc0a</td>
                    <td>wangjian</td>
                    <td>wjb19891223@163.com</td>
                    <td>普通用户</td>
                    <td>禁用</td>
                    <td>
                        <a href="user-edit.html" class="glyphicon glyphicon-edit"></a>
                        <i class="glyphicon glyphicon-remove" data-toggle="modal" data-target=".confirm-modal"></i>
                    </td>
                </tr>
                <tr>
                    <td>5b9a716cb2d2bf17706bcc0a</td>
                    <td>wangjian</td>
                    <td>wjb19891223@163.com</td>
                    <td>普通用户</td>
                    <td>启用</td>
                    <td>
                        <a href="user-edit.html" class="glyphicon glyphicon-edit"></a>
                        <i class="glyphicon glyphicon-remove" data-toggle="modal" data-target=".confirm-modal"></i>
                    </td>
                </tr> -->
            </tbody>
        </table>
        <!-- /内容列表 -->
        <!-- 分页 -->
        <ul class="pagination">
            <!-- <li>
                <a href="#">
                    <span>&laquo;</span>
                </a>
            </li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
            <li><a href="#">5</a></li>
            <li>
                <a href="#">
                    <span>&raquo;</span>
                </a>
            </li> -->
        </ul>
        <!-- /分页 -->
    </div>
</div>
<!-- /主体内容 -->
<!-- 删除确认弹出框 -->
<div class="modal fade confirm-modal">
    <div class="modal-dialog modal-lg">
        <form class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                <h4 class="modal-title">请确认</h4>
            </div>
            <div class="modal-body">
                <p>您确定要删除这个用户吗?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>


                <button type="button" class="btn btn-danger delete-user">提交</button>
            </div>
        </form>
    </div>
</div>
<!-- /删除确认弹出框 -->

<!-- 用户信息修改弹出框 -->
<!-- Modal -->
<div class="modal fade" id="modify-modal" tabindex="-1" aria-labelledby="myModalLabel">
    <!-- <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">用户信息修改</h4>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary">保存</button>
            </div>
        </div>
    </div> -->
</div>
<!-- /用户信息你修改弹出框 -->
{{/block}}

<!-- 插槽 -->
{{block 'script'}}
<!-- 列表模板 -->
<script type="text/template" id="table_templ">
    {& each records &}
    <tr>
        <td>{& $value._id &}</td>
        <td>{& $value.username &}</td>
        <td>{& $value.email &}</td>
        <td>{& $value.role &}</td>
        <td>{& $value.status?'正常':'已禁用' &}</td>
        <td>
            
            <a href="javascript:;" class="glyphicon glyphicon-edit" data-id="{& $value._id &}"></a>
            
            {&  if  $value.status &}
            <i class="glyphicon glyphicon-remove"  data-id="{& $value._id &}"></i>
            {&  /if  &}
        </td>
    </tr>
    {& /each &}
</script>
<!-- 分页模板 -->
<script type="text/template" id="pagination_templ">

    <li class="{& page<=1?'disabled':'' &}" data-pagenum="{& page-1 &}"><a href="javascript:;" ><span>&laquo;</span></a></li>

    {& each display &}
    <li data-pagenum="{& $value &}"><a href="javascript:;" >{& $value &}</a></li>
    {& /each &}
    <li  class="{& page>=pages?'disabled':'' &}" data-pagenum="{& page+1 &}"><a href="javascript:;"><span>&raquo;</span></a></li>
</script>
<!-- 用户信息模板 -->
<script type="text/template" id="modify_templ">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">用户信息修改</h4>
            </div>
            <div class="modal-body">
                <form  id="modify-form">
                    <div class="form-group">
                        <label>用户名</label>
                        <input type="text" class="form-control" name="username" placeholder="请输入用户名" value="{& username &}">
                    </div>
                    <div class="form-group">
                        <label>邮箱</label>
                        <input type="email" class="form-control" name="email" placeholder="请输入邮箱地址" value="{& email &}">
                    </div>
                    <div class="form-group">
                        <label>密码</label>
                        <input type="password" class="form-control" name="password" placeholder="请输入密码" value="{& password &}">
                    </div>
                    <div class="form-group">
                        <label>角色</label>
                        <select class="form-control" name="role">
                            {& if role =='普通用户' &}
                            <option value="普通用户" selected>普通用户</option>
                            <option value="超级管理员">超级管理员</option>
                            {& else &}
                            <option value="普通用户" >普通用户</option>
                            <option value="超级管理员" selected>超级管理员</option>
                            {& /if &}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>状态</label>
                        <select class="form-control" name="status">
                            {& if status &}
                            <option value="1" selected>启用</option>
                            <option value="0">禁用</option>
                            {& else &}
                            <option value="1">启用</option>
                            <option value="0" selected>禁用</option>
                            {& /if &}
                        </select>
                    </div>

                    <!-- <input type="hidden" name="id" value="{& _id &}"> -->
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary save-btn" data-id="{& _id &}">保存</button>
            </div>
        </div>
    </div>
</script>

<script src="/js/user.js"></script>
{{/block}}